# -------------------------------------------------------------------------------------------------
# THEME SOURCE
# -------------------------------------------------------------------------------------------------
# Sourcing colors generated by Matugen
source = ~/.config/matugen/generated/hyprland-colors.conf

# -------------------------------------------------------------------------------------------------
# 1. GENERAL APPEARANCE
# Control gaps, borders, and layout behavior.
# See: https://wiki.hyprland.org/Configuring/Variables/#general
# -------------------------------------------------------------------------------------------------
general {
    # --- Gaps & Borders ---
    gaps_in = 6                 # Gap between windows
    gaps_out = 12                # Gap between windows and monitor edges
    border_size = 2             # Size of window borders

    # --- Colors ---
    # Uses variables from the sourced matugen file
    col.active_border = $primary
    col.inactive_border = $inverse_on_surface 

    # --- Behavior ---
    # RESIZING: Set to true. This allows you to resize windows by clicking and dragging 
    # on the gaps/border area, rather than hitting the exact 2px pixel border.
    #resize_on_border = true

    # TEARING: Allows lower latency in games. 
    # NOTE: To use this, you must also apply 'windowrulev2 = immediate, class:^(game_class)$'
    allow_tearing = true

    # Default layout engine
    layout = dwindle
}

# -------------------------------------------------------------------------------------------------
# 2. DECORATION
# Shadows, Blur, Opacity, and Rounding.
# See: https://wiki.hyprland.org/Configuring/Variables/#decoration
# -------------------------------------------------------------------------------------------------
decoration {
    # --- Rounding ---
    rounding = 6
    rounding_power = 6.0

    # --- Opacity ---
    active_opacity = 0.8
    inactive_opacity = 0.6
    fullscreen_opacity = 1.0

    # --- Dimming ---
    dim_inactive = true
    dim_strength = 0.2
    dim_special = 0.8           # Stronger dimming for special workspace to highlight content

    # --- Shadows ---
    # Enabled because your hardware (12700H) can easily handle it.
    shadow {
        enabled = true
        range = 35
        render_power = 2 #(values betwwen 1 and 4, no higher than 4, cuz invalid)
        color = rgba(1a1a1aee)
        #or
        #color= $primary
        #offset = 0 0    # Displaces shadow (x, y). 10 down makes it look like the light is above.
        #scale = 1
    }

    # --- Blur ---
    # Enabled for aesthetic depth.
    blur {
        enabled = true
        size = 4                # Radius
        passes = 2              # Quality (2 is a good balance of perf/looks)
        new_optimizations = true
        ignore_opacity = true   # Blurs behind transparent windows even if opacity is high
        xray = false            # If true, you can "see through" the blur.
        vibrancy = 0.1696
    }

    # --- Shaders ---
    # screen_shader = ~/.config/hypr/shaders/grayscale_advanced.glsl
}

# -------------------------------------------------------------------------------------------------
# 3. ANIMATIONS
# See: https://wiki.hyprland.org/Configuring/Animations/
# -------------------------------------------------------------------------------------------------

source = ~/.config/hypr/source/animations/active/active.conf

# -------------------------------------------------------------------------------------------------
# 4. LAYOUTS
# -------------------------------------------------------------------------------------------------
dwindle {
    pseudotile = true
    preserve_split = true
  # smart_split = false     # If true, splits based on mouse position.
  # smart_resizing = false  # If true, resizing direction is determined by mouse pos.
}

master {
    new_status = master
}

# -------------------------------------------------------------------------------------------------
# 5. MISCELLANEOUS & PERFORMANCE
# See: https://wiki.hyprland.org/Configuring/Variables/#misc
# -------------------------------------------------------------------------------------------------
misc {
    force_default_wallpaper = 1     # Set to 0 to enable the anime mascot (if you want it), 1 to disable.
    disable_hyprland_logo = true
    disable_splash_rendering = true

    # Power Saving & Refresh Rate
    # vfr = false                   # Variable Frame Rate (Critical for laptop battery)

    # uses extra 1 watt but looks smoother when enabled (1)
    # vrr = 1                         # 0=off, 1=on, 2=fullscreen only. 1 enables Adaptive Sync (G-Sync/FreeSync).

    # Input Lag
}

# -------------------------------------------------------------------------------------------------
# 6. BINDS (Visual specific)
# -------------------------------------------------------------------------------------------------
binds {
    allow_pin_fullscreen = true
}

#debug {
#    overlay = true
#}
